<div class="h-100 w-100">
    <div
        class="d-flex flex-row-reverse hstack gap-3 position-absolute z-2 top-0 end-0 p-4 pe-none"
        [style]="'transform: translate(' + -flyoutWidth + 'px, 0);'">
        <button
            id="save-btn"
            type="button"
            (click)="saveCode()"
            [disabled]="codeVisualNew === codeVisualOld"
            class="workspaceButton">
            <img
                [src]="codeVisualNew === codeVisualOld ? SAVE_INACTIVE_ICON : SAVE_ACTIVE_ICON"
                width="75px"
                alt="Program save button" />
        </button>
        <button
            id="run-btn"
            type="button"
            (click)="runProgram()"
            class="workspaceButton">
            <img
                [src]="executionState == ExecutionState.RUNNING ? STOP_ICON : PLAY_ICON"
                width="75px"
                alt="Program save button" />
        </button>
        <div class="toggle-btn-icon">
            <img
                class="view-mode-icon"
                [src]="FULL_SCREEN_ICON"
                alt="icon for split-screen-view" />
        </div>
        <button
            id="toggle-btn"
            class="workspaceButton"
            (click)="viewMode = !viewMode">
            <img
                [src]="viewMode ? TOGGLE_LEFT_ICON : TOGGLE_RIGHT_ICON"
                alt="Toggle for switching between normal and split screen view" />
        </button>
        <div class="toggle-btn-icon">
            <img
                class="view-mode-icon"
                [src]="SPLIT_SCREEN_ICON"
                alt="icon for split-screen-view" />
        </div>
    </div>
    <as-split direction="vertical">
        <as-split-area
            [size]="50"
            [minSize]="15">
            <app-program-workspace
                [codeVisual]="codeVisualOld"
                (codePythonChange)="onCodePythonChange($event)"
                (codeVisualChange)="onCodeVIsualChange($event)"
                (trashcanFlyoutChange)="onTrashcanFlyoutChange($event)"></app-program-workspace>
        </as-split-area>
        <as-split-area
            *ngIf="viewMode"
            [size]="50">
            <as-split direction="horizontal">
                <as-split-area
                    id="python-code-area"
                    [size]="50">
                    <app-python-code [code]="codePython"></app-python-code>
                </as-split-area>
                <as-split-area [size]="50">
                    <app-console
                        [output$]="output$"
                        [state$]="state$"></app-console>
                </as-split-area>
            </as-split>
        </as-split-area>
    </as-split>
</div>
