<div class="range-wrap">
    <div
        class="range-value"
        #bubble>
        <input
            class="bubble-input overlay"
            [min]="minValue"
            [max]="maxValue"
            *ngIf="isInputVisible"
            [formControl]="bubbleFormControl"
            (blur)="toggleInputInvisible()"
            (keydown.enter)="toggleInputInvisible()"
            #bubbleInput />
        <div
            class="bubble-span overlay"
            *ngIf="!isInputVisible"
            (dblclick)="toggleInputVisible()">
            {{ bubbleFormControl.value }}{{ unitOfMeasurement }}
        </div>
    </div>
    <span
        *ngIf="bubblePosition >= minBubblePosition"
        class="bubble-span-min"
        >{{ flip(minValue) }}{{ unitOfMeasurement }}</span
    >
    <span
        *ngIf="bubblePosition <= maxBubblePosition"
        class="bubble-span-max"
        >{{ flip(maxValue) }}{{ unitOfMeasurement }}</span
    >
    <input
        class="range"
        type="range"
        id="slider_{{ name }}"
        [min]="minValue"
        [max]="maxValue"
        [step]="step"
        [formControl]="sliderFormControl"
        (input)="setThumbPosition(); sendEvent()"
        #range />
</div>
