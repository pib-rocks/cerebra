<div class="h-100 w-100">
    <!-- TODO: flyout width -->
    <div
        class="d-flex flex-row-reverse hstack gap-3 position-absolute z-2 top-0 end-0 p-4 pe-none">
        <button
            id="save-btn"
            type="button"
            (click)="saveCode()"
            [style]="'transform: translate(' + -flyoutWidth + 'px, 0);'"
            [disabled]="codeVisualNew === codeVisualOld"
            class="workspaceButton">
            <img
                src="../../assets/program/button-save-active.svg"
                width="75px"
                alt="Program save button" />
        </button>
        <button
            id="run-btn"
            type="button"
            (click)="runProgram()"
            [style]="'transform: translate(' + -flyoutWidth + 'px, 0);'"
            class="workspaceButton">
            <img
                src="../../assets/program/button-run-play.svg"
                width="75px"
                alt="Program save button" />
        </button>
        <div
            class="toggle-btn-icon"
            [style]="'transform: translate(' + -flyoutWidth + 'px, 0);'">
            <img
                class="view-mode-icon"
                src="../../../../assets/program/icon-full-screen.svg"
                alt="icon for split-screen-view" />
        </div>
        <button
            [style]="'transform: translate(' + -flyoutWidth + 'px, 0);'"
            id="toggle-btn"
            class="workspaceButton"
            (click)="changeViewMode()">
            <img
                [src]="'../../assets/toggle-switch-' + (viewMode ? 'left' : 'right') + '.png'"
                alt="Toggle for switching between normal and split screen view" />
        </button>
        <div
            class="toggle-btn-icon"
            [style]="'transform: translate(' + -flyoutWidth + 'px, 0);'">
            <img
                class="view-mode-icon"
                src="../../../../assets/program/icon-split-screen.svg"
                alt="icon for split-screen-view" />
        </div>
    </div>
    <as-split direction="vertical">
        <as-split-area
            [size]="50"
            [minSize]="15">
            <app-program-workspace
                [codeVisual]="codeVisualOld"
                (codePythonChange)="onCodePythonChange($event)"
                (codeVisualChange)="onCodeVIsualChange($event)"
                (trashcanFlyoutChange)="onTrashcanFlyoutChange($event)"></app-program-workspace>
        </as-split-area>
        <as-split-area
            *ngIf="viewMode"
            [size]="50">
            <as-split direction="horizontal">
                <as-split-area
                    id="python-code-area"
                    [size]="50">
                    <app-python-code [code]="codePython"></app-python-code>
                </as-split-area>
                <as-split-area [size]="50">
                    <app-console
                        [output$]="output"
                        [state$]="state"></app-console>
                </as-split-area>
            </as-split>
        </as-split-area>
    </as-split>
</div>
