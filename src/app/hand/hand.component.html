<app-nav-bar></app-nav-bar>
<div class="container-fluid">
    <div class="row mb-3 mt-3">
        <div
            class="col-3"
            *ngIf="side === 'right'">
            <div class="custom-control custom-switch custom-switch-pib my-3">
                <input
                    class="custom-control-input"
                    type="checkbox"
                    id="rightSwitch"
                    [formControl]="rightSwitchControl"
                    (input)="switchView(false)"
                    #rightSwitch />
                <label
                    class="custom-control-label"
                    id="label_rightSwitch"
                    for="rightSwitch"
                    >Control fingers individually</label
                >
            </div>
        </div>
        <div
            class="col-3"
            *ngIf="side === 'left'">
            <div class="custom-control custom-switch custom-switch-pib my-3">
                <input
                    class="custom-control-input"
                    type="checkbox"
                    id="leftSwitch"
                    [formControl]="leftSwitchControl"
                    (input)="switchView(false)"
                    #leftSwitch />
                <label
                    class="custom-control-label"
                    id="label_leftSwitch"
                    for="leftSwitch"
                    >Control fingers individually</label
                >
            </div>
        </div>
        <div class="col-3 mt-2 mb-2 pr-0 d-flex justify-content-end ">
            <button
                id="home-position-btn"
                type="button"
                class="btn"
                (click)="reset()">
                <img
                    src="../../assets/icon-home-position.png"
                    alt=""
                    width="19px"
                    height="24px" />
                Home position
            </button>
        </div>
        <div class="col-3 mt-2 mb-2 d-flex justify-content-end">
            <button
                (click)="sendDummyMessage()"
                class="btn btn-primary"
                id="dummyBtnLeft">
                Dummy Values
            </button>
        </div>
    </div>
    <div class="row background-image">
        <div
            class="col-6 pink-corner-frame mr-2 pt-3 pl-3 pr-3"
            *ngIf="side === 'left'">
            <ng-container>
                <div class="row">
                    <app-motor-control
                        [motorName]="thumbOppositionLeft.motor"
                        [labelName]="thumbOppositionLeft.label"
                        [isGroup]="true"
                        groupSide="left">
                    </app-motor-control>
                </div>
                <div
                    class="row"
                    *ngFor="let f of leftFingers"
                    #leftContainer>
                    <app-motor-control
                        [motorName]="f.motor"
                        [labelName]="f.label"
                        [style.display]="displayIndividual"></app-motor-control>
                </div>
                <div class="row">
                    <app-motor-control
                        [motorName]="allFingersLeft.motor"
                        [labelName]="allFingersLeft.label"
                        [isGroup]="true"
                        [style.display]="displayAll"
                        groupSide="left"></app-motor-control>
                </div>
            </ng-container>
        </div>
        <div
            class="col-6 pink-corner-frame mr-2 pt-3 pl-3 pr-3"
            *ngIf="side === 'right'">
            <ng-container>
                <div class="row">
                    <app-motor-control
                        [motorName]="thumbOppositionRight.motor"
                        [labelName]="thumbOppositionRight.label"
                        [isGroup]="true"
                        groupSide="right"></app-motor-control>
                </div>
                <div
                    class="row"
                    *ngFor="let f of rightFingers"
                    #rightContainer>
                    <app-motor-control
                        [motorName]="f.motor"
                        [labelName]="f.label"
                        [style.display]="displayIndividual"></app-motor-control>
                </div>
                <div class="row">
                    <app-motor-control
                        [motorName]="allFingersRight.motor"
                        [labelName]="allFingersRight.label"
                        [isGroup]="true"
                        groupSide="right"
                        [style.display]="displayAll"></app-motor-control>
                </div>
            </ng-container>
        </div>
        <!--right hand image-->
        <div
            class="col-md-auto blue-corner-frame hand-image mb-2"
            *ngIf="side === 'right'">
            <div class="row mt-3">
                <ng-container *ngFor="let obj of rightFingersAll">
                    <div class="col-2 pr-0 pl-0">
                        <app-circular-slider
                            name="{{obj['motor']}}"
                            [initWidth]="80"
                            [initHeight]="80"></app-circular-slider>
                    </div>
                </ng-container>
            </div>
            <div class="row">
                <img
                    class="container"
                    style="height: 30rem; width: 30rem; margin-top: 10px"
                    src="../../assets/hand_right.png"
                    alt="" />
            </div>
        </div>
        <!--left hand image-->
        <div
            class="col-md-auto blue-corner-frame hand-image"
            *ngIf="side === 'left'">
            <div class="row mt-3">
                <ng-container *ngFor="let obj of leftFingersAll">
                    <div class="col-2 pr-0 pl-0">
                        <app-circular-slider
                            name="{{obj['motor']}}"
                            [initWidth]="80"
                            [initHeight]="80"></app-circular-slider>
                    </div>
                </ng-container>
            </div>
            <div class="row">
                <img
                    class="container"
                    style="height: 30rem; width: 30rem; margin-top: 10px"
                    src="../../assets/hand_left.png"
                    alt="" />
            </div>
        </div>
    </div>
</div>

<!-- <ng-container *ngFor="let obj of currentLeft">
                    <div [class]="obj['motor']">
                        <span class="current">{{ obj["value"] }} mA</span>
                        <div
                            [style.height]="obj['value'] / 40 + 'px'"
                            class="color-indicator"
                            [class.color-indicator50-80]="
                obj['value'] / 20 > 50 && obj['value'] / 20 < 80
            "
                            [class.color-indicator80-100]="obj['value'] / 20 >= 80"></div>
                    </div>
                </ng-container> -->

<!-- <ng-container *ngFor="let obj of currentRight">
                    <div [class]="obj['motor']">
                        <span class="current">{{ obj["value"] }} mA</span>
                        <div
                            [style.height]="obj['value'] / 40 + 'px'"
                            class="color-indicator"
                            [class.color-indicator50-80]="
              obj['value'] / 20 > 50 && obj['value'] / 20 < 80
            "
                            [class.color-indicator80-100]="obj['value'] / 20 >= 80"></div>
                    </div>
                </ng-container> -->
